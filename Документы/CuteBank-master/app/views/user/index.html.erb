<h1>user main page </h1>
<div>
  <h2> 
    <%=  @user.current_balance%>
  </h2>
</div>

<div>

</div>
<%= form_for :user, :url => {:controller => :user, :action => :index} do |f| %>
    <% if @user.errors.any? %>
      <% @user.errors.full_messages.each do |msg| %>
        <div class= "alertUser ">
          <%= msg%>
        </div>
      <% end %>
    <% end %>
    <p >
      Enter the sum to withdraw or to deposit <br>
      <%= f.text_field :current_balance %>
    </p>

    <p >
    <%= f.submit 'Withdraw' %>

    </p>
    <p >
    <%= f.submit 'Deposit' %>

    </p>

  <%end%>
<div><%= @user.email %>
</div>

<div>
<%if @record !=nil%>
  <%@record.each do |item|%>
    <%=item.operation_type%>
    <%=item.amount%>
    <%=item.balance_after%>
    <%=item.created_at%>
<%end%>
  <% end %>
</div>


<html>

<head>
  <title>CuteBank</title>
  <%= stylesheet_link_tag 'ClientInterface.css' %>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&display=swap" rel="stylesheet">
</head>

<body>



  <div id="content">
    <div class="fon-content">



      <div class="do_balance">
        <div class="input_balance">

        </div>
<div class="operation_balance">

</div>
      </div>

      <div class="balance">

      </div>


      
    </div>
  </div>

  <div id="footer">
    <div class="fon-footer">


      <nav>
        <div class="logo-box">
          <h1 class="logo">
            <a href="/">
              <img src="/assets/logo-head.svg">
            </a>
          </h1>
        </div>
        <ul>
          <%= link_to image_tag('/assets/icon-about.svg') + "About", about_index_path %>
            <div class="border-reg"></div>
          </li>
        
          <li><img class="icon-time" src="/assets/icon-time.svg"><span id="date_time"></span></li>
          <li><a href="#"><img src="/assets/icon-rights.svg">Rights reserved</a>
            <div class="border-reg"></div>
          </li>
        </ul>
      </nav>


    </div>
  </div>

</div>

<script>
    /* функция добавления ведущих нулей */
    /* (если число меньше десяти, перед числом добавляем ноль) */
    function zero_first_format(value) {
        if (value < 10) {
            value = '0' + value;
        }
        return value;
    }

    /* функция получения текущей даты и времени */
    function date_time() {
        var current_datetime = new Date();
        var day = zero_first_format(current_datetime.getDate());
        var month = zero_first_format(current_datetime.getMonth() + 1);
        var year = current_datetime.getFullYear();
        var hours = zero_first_format(current_datetime.getHours());
        var minutes = zero_first_format(current_datetime.getMinutes());
        var seconds = zero_first_format(current_datetime.getSeconds());

        return day + "." + month + "." + year + " " + hours + ":" + minutes + ":" + seconds;
    }

    /* каждую секунду получаем текущую дату и время */
    /* и вставляем значение в блок с id "current_date_time_block2" */
    setInterval(function() {
        document.getElementById('date_time').innerHTML = date_time();
    }, 1000);

</script>


</body>

</html>